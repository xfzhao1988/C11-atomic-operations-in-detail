(function(){"use strict";const t="qct",g=window.QC_AUTOTRACK_INIT_FUNC;function b(c){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(c).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function k(c){return location.search.slice(1).split("&").filter(Boolean).reduce((n,r)=>{const[e,o]=r.split("=");return{...n,[e]:o}},{})[c]||""}g({report:{beforeReport:(c,u,n)=>{var $;const r=b("qcommunity_identify_id")||"",e=document.querySelector("html"),o=(e==null?void 0:e.getAttribute("qct-uid"))||"",_=(e==null?void 0:e.getAttribute("qct-pv-id"))||"",s=k("traceId"),l=(e==null?void 0:e.getAttribute("qct-ip"))||"",p=navigator.userAgent;if(["click","show_area","stay_area"].includes(c)&&n){let f=[],i=n,y="",q=($=i.getAttribute("qct-area"))==null?void 0:$.split("-").pop();const A=i.parentElement;if(A){let I=Array.from(A.querySelectorAll("[qct-area]")).findIndex(m=>m===i);I>-1&&(y=String(I+1))}let C="",R="";for(;i&&i.tagName!=="html";){const d=i.getAttribute("qct-area");d&&f.unshift(d),i=i==null?void 0:i.parentElement}return{...u,[`${t}_area_id`]:f.join("-"),[`${t}_object_id`]:/^\d{2,10}$/.test(q||"")?q:"",[`${t}_index`]:y,tabReportKey:r,[`${t}_identify_id`]:r,[`${t}_uid`]:o,[`${t}_pv_id`]:_,[`${t}_policy_id`]:C,[`${t}_trace_id`]:R,[`${t}_from_trace_id`]:s,[`${t}_user_ip`]:l,[`${t}_ua`]:p}}return{...u,tabReportKey:r,[`${t}_identify_id`]:r,[`${t}_uid`]:o,[`${t}_pv_id`]:_,[`${t}_from_trace_id`]:s,[`${t}_user_ip`]:l,[`${t}_ua`]:p}}}});const a=window.QC_AUTOTRACK;a.config("Click",{keyAttribute:"qct-click"}),a.use("Exposure",{keyAttribute:"qct-exposure",trackStayarea:!0}),a.reStart()})();
